# 星币管理系统

一个专为教育场景设计的学生激励管理工具，通过"星币"作为奖励载体，实现对学生行为的记录、统计与批量管理。

## 功能特性

### 🏫 班级管理
- **班级选择**：通过下拉菜单快速切换操作班级，支持"所有班级"视图
- **多班级视图**："所有班级"模式显示全校学生数据统计和汇总
- **添加班级**：点击"+ 添加班级"按钮新增班级
- **删除班级**：支持删除空班级或有学生的班级，提供学生转移选项
- **数据持久化**：自动保存班级信息到本地存储

### 👥 学生信息管理
- **单个添加**：填写学生姓名和初始星币数量，快速添加学生
- **信息编辑**：修改学生姓名、星币数量和所在班级
- **学生转班**：支持在编辑界面修改学生所在班级，自动检测重名冲突
- **学生删除**：移除不需要的学生记录
- **重名检测**：同班级内防止重名学生

### ⭐ 星币操作系统
- **单个操作**：为单个学生增加或减少星币
- **全班操作**：
  - 全班加星币：为班级内所有学生统一增加星币
  - 全班减星币：为班级内所有学生统一减少星币
- **选择性操作**：
  - 选中加星币：为选中的特定学生增加星币
  - 选中减星币：为选中的特定学生减少星币

### 📊 数据统计与可视化
- **学生总数**：显示当前班级或全校学生数量
- **星币最多学生**：显示星币数量最高的学生及其星币数和班级信息
- **平均星币数**：显示班级或全校平均星币水平
- **动态统计**：根据当前选中的班级模式自动切换统计范围

### 🔍 辅助功能
- **搜索功能**：快速查找特定学生
- **排序功能**：
  - 按姓名排序
  - 按星币数量排序（升序/降序）
- **一键复制**：点击学生姓名快速复制
- **批量选择**：支持全选和部分选择学生

### 📊 Excel数据管理
- **多模式导入**：支持追加模式和覆盖模式，灵活处理数据更新
- **多班级导入**：支持按班级列同时导入多个班级的学生数据
- **自动班级创建**：导入时自动创建不存在的班级
- **多班级导出**：支持导出单个班级或所有班级的学生数据
- **模板下载**：提供标准的 Excel 导入模板和使用说明
- **格式验证**：导入时自动检查数据格式和重名冲突
- **多列名支持**：支持中英文列名变体（姓名/name、星币/coins、班级/class）

## 使用方法

### 初次使用
1. 打开 `index.html` 文件
2. 系统会自动加载默认示例数据
3. 默认选中"所有班级"模式，显示全校数据统计

### 班级管理
1. **选择班级**：在顶部下拉菜单中选择要操作的班级，或选择"所有班级"查看全校数据
2. **添加班级**：点击"+ 添加班级"按钮，输入班级名称后确认
3. **删除班级**：选中具体班级后点击"删除班级"按钮，系统会检查班级内学生情况：
   - **空班级**：直接删除
   - **有学生的班级**：提供两种选项
     - 转移学生到其他班级
     - 强制删除（同时删除所有学生）

### 学生管理
1. **添加学生**：
   - 在"学生姓名"框中输入姓名
   - 在"初始星币数量"框中输入起始星币（可选，默认为0）
   - 点击"+ 添加学生"按钮
2. **编辑学生**：点击学生行的"编辑"按钮，可修改姓名、星币数量和所在班级，保存后生效
3. **删除学生**：点击学生行的"删除"按钮，确认后删除

### 星币操作
1. **单个操作**：
   - 点击学生行的"+"按钮增加1个星币
   - 点击学生行的"-"按钮减少1个星币
2. **批量操作**：
   - **全班操作**：点击"全班加星币"或"全班减星币"，输入数量后确认
   - **选择性操作**：先勾选目标学生，再点击"选中加星币"或"选中减星币"

### 数据管理
1. **导出数据**：点击顶部"导出数据"按钮，下载JSON备份文件
2. **导入数据**：点击顶部"导入文件"按钮，选择之前导出的JSON文件

### Excel数据管理
1. **下载模板**：
   - 点击顶部"下载模板"按钮
   - 下载包含示例数据和使用说明的Excel模板
   - 模板支持中英文列名（姓名/name、星币/coins、班级/class）
2. **批量导入**：
   - 按照模板格式填写学生信息（姓名必填，星币数量和班级可选）
   - 支持同时导入多个班级的学生，不存在的班级将自动创建
   - 点击"导入Excel"按钮，选择填好的Excel文件
   - 选择导入模式：
     - **追加模式**：保留现有学生，只添加新学生
     - **覆盖模式**：清空当前班级学生，再导入新数据
   - 系统将自动检查数据并批量添加学生
3. **数据导出**：
   - 选择要导出的班级（单个班级或所有班级）
   - 点击"导出Excel"按钮
   - 系统将生成包含学生信息和班级信息的Excel文件

## 快捷键

- `Ctrl + S`：快速导出Excel数据
- `Ctrl + A`：在学生列表区域全选学生
- `ESC`：关闭当前打开的对话框
- `Enter`：在对话框中确认操作

## 技术特性

- **响应式设计**：适配桌面和移动设备
- **现代化界面**：使用渐变色彩和毛玻璃效果
- **本地存储**：无需服务器，数据保存在浏览器本地
- **实时反馈**：操作后即时显示结果消息
- **数据安全**：操作前确认，防止误删等操作

## 浏览器支持

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 注意事项

1. **数据保存**：所有数据保存在浏览器本地存储中，清除浏览器数据会丢失信息
2. **定期备份**：建议定期使用"导出数据"功能备份重要数据
3. **重名处理**：同一班级内不允许重名学生，系统会自动检测并提示
4. **星币范围**：学生星币数量可以为负数，支持惩罚机制

## 文件结构

```
star-coin-system/
├── index.html          # 主页面文件
├── styles.css          # 样式文件
├── script.js           # JavaScript逻辑文件
└── README.md           # 使用说明文档
```

## 更新日志

### v3.0.0 (2025-01-12)
- **新增多班级管理功能**：
  - 添加"所有班级"视图模式，支持跨班级数据统计和查看
  - 默认启动选择"所有班级"，提供全校数据总览
  - 学生列表中显示班级信息列，便于区分不同班级学生
- **增强Excel导入功能**：
  - 支持按班级列导入，可同时导入多个班级的学生数据
  - 自动创建不存在的班级，简化班级管理流程
  - 新增导入模式选择（追加模式/覆盖模式），保护现有数据
  - 优化导入确认流程，提供详细的导入预览信息
- **新增学生转班功能**：
  - 编辑学生信息时支持更改班级
  - 转班时自动检测重名冲突，确保数据一致性
  - 提供清晰的转班成功反馈
- **新增班级删除功能**：
  - 支持删除空班级和有学生的班级
  - 删除有学生的班级时提供学生转移选项
  - 删除确认流程优化，防止误操作
  - 支持强制删除选项（同时删除班级内所有学生）
- **界面优化**：
  - 简化删除确认流程，提升用户体验
  - 优化按钮状态管理，防止无效操作
  - 改进消息提示系统，提供更准确的操作反馈

### v2.0.0 (2024-12-09)
- 新增Excel导入导出功能
- 支持批量导入学生数据
- 提供Excel模板下载
- 星币数量支持负数
- 优化界面设计风格

### v1.0.0 (2024-12-09)
- 初始版本发布
- 完整的班级和学生管理功能
- 星币操作和批量处理
- 数据统计和可视化
- 导入导出功能
- 响应式界面设计

---

**开发者注**：本系统专为教育工作者设计，旨在通过游戏化的方式激励学生学习，提升课堂参与度和学习积极性。